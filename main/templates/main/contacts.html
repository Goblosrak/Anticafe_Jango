{% extends 'main/base.html' %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">{{ title }}</h1>
    
    {% if messages %}
    <div class="row">
        <div class="col-12">
            {% for message in messages %}
            <div class="alert alert-{{ message.tags|default:'info' }} alert-dismissible fade show" role="alert">
                {{ message|safe }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
    
    <div class="row">
        <div class="col-md-6 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title mb-3"><i class="bi bi-geo-alt text-primary me-2"></i>Наш адрес</h5>
                    <p class="card-text">
                        <strong>Антикафе "Чилл"</strong><br>
                        ул. Воскресенская, д. 8,<br>
                        Сириус, 123456<br>
                    </p>
                    <div class="mt-4">
                        <h6><i class="bi bi-clock text-primary me-2"></i>Часы работы</h6>
                        <ul class="list-unstyled">
                            <li>Понедельник - Пятница: 9:00 - 23:00</li>
                            <li>Суббота - Воскресенье: 10:00 - 00:00</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-md-6 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="card-title mb-3"><i class="bi bi-telephone text-primary me-2"></i>Контакты</h5>
                    <ul class="list-unstyled">
                        <li class="mb-3">
                            <i class="bi bi-phone me-2"></i>
                            <strong>Телефон:</strong> +7 (999) 123-45-67
                        </li>
                        <li class="mb-3">
                            <i class="bi bi-envelope me-2"></i>
                            <strong>Email:</strong> info@chill-antikafe.ru
                        </li>
                        <li class="mb-3">
                            <i class="bi bi-envelope me-2"></i>
                            <strong>Для бронирования:</strong> booking@chill-antikafe.ru
                        </li>
                    </ul>
                    
                    <h6 class="mt-4"><i class="bi bi-chat-dots text-primary me-2"></i>Социальные сети</h6>
                    <div class="mt-3">
                        <a href="https://t.me/+TsxMxoOPsJEwYzUy" 
                           class="btn btn-outline-primary btn-sm me-2"
                           target="_blank" 
                           rel="noopener noreferrer">
                            <i class="bi bi-telegram"></i> Telegram
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="bi bi-chat-left-text me-2"></i>Форма обратной связи</h5>
                </div>
                <div class="card-body">
                    <form method="POST" action="{% url 'contacts' %}">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="contact_name" class="form-label">Ваше имя *</label>
                                <input type="text" class="form-control" id="contact_name" name="contact_name"
value="{{ request.POST.contact_name|default:'' }}" required>
                                {% if form_errors.name %}
                                <div class="text-danger small mt-1">{{ form_errors.name }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="contact_email" class="form-label">Ваш email *</label>
                                <input type="email" class="form-control" id="contact_email" name="contact_email" 
                                       value="{{ request.POST.contact_email|default:'' }}" required>
                                {% if form_errors.email %}
                                <div class="text-danger small mt-1">{{ form_errors.email }}</div>
                                {% endif %}
                            </div>
                            <div class="col-12 mb-3">
                                <label for="message" class="form-label">Сообщение *</label>
                                <textarea class="form-control" id="message" name="message" rows="4" required>{{ request.POST.message|default:'' }}</textarea>
                                {% if form_errors.message %}
                                <div class="text-danger small mt-1">{{ form_errors.message }}</div>
                                {% endif %}
                            </div>
                            <div class="col-12">
                                <button type="submit" class="btn btn-primary">
                                    <i class="bi bi-send me-2"></i>Отправить сообщение
                                </button>
                                <small class="text-muted ms-3">* Обязательные поля</small>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const socialButtons = document.querySelectorAll('.btn-outline-primary');
    socialButtons.forEach(button => {
        if (button.querySelector('.bi-telegram')) {
            button.setAttribute('data-bs-toggle', 'tooltip');
            button.setAttribute('data-bs-placement', 'top');
            button.setAttribute('title', 'Написать в Telegram');
        }
        if (button.querySelector('.bi-whatsapp')) {
            button.setAttribute('data-bs-toggle', 'tooltip');
            button.setAttribute('data-bs-placement', 'top');
            button.setAttribute('title', 'Написать в WhatsApp');
        }
        if (button.querySelector('.bi-instagram')) {
            button.setAttribute('data-bs-toggle', 'tooltip');
            button.setAttribute('data-bs-placement', 'top');
            button.setAttribute('title', 'Перейти в Instagram');
        }
    });
    
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });
});
</script>
{% endblock %}

{% endblock %}
